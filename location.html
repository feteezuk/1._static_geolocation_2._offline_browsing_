<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />

  <title>ABC Toys</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBACWD5QrBCe6uYetGO5ASM9hOTY0PkEeU">
    </script>



 


<style>
img{
	max-width:100%;
}
#map { position:absolute; width: 100%; height: 100%; padding: 0; }


</style>

</head>

<body>
  
<section id="location" data-role="page">
<header data-role="header" data-theme="b">
<h1>ABC Toys</h1>
</header>

<div data-role="content">
<h3>
  This is The LOCATION PAGE</h3>

  <h4>Please reload the page to get the latest Latitude and Longitude coordinates</h4>

<span> Latitude : </span> <input type="text" id="lat" />
    <span> Longitude : </span> <input type="text" id="lng"/>
    <a data-role="button" id="btn">Display map</a>



</div>


<footer data-role="footer" data-position="fixed" data-theme="b">
  <div data-role="navbar" data-iconpos="top">
    <ul>
      <li><a data-icon="home" href="home.html">Home</a></li>

      <li><a data-icon="camera" href="product.html">Products</a></li>
      <li><a class="ui-btn-active ui-state-persist" data-icon="location" href="location.html">Location</a></li>
      <li><a data-icon="mail" href="contact.html" >Contact</a></li>
    </ul>
  </div>

  
</footer>
</section>

<!--new page -->

<div data-role="page" id="win2" data-add-back-btn="true">
  <div data-role="header" data-position="fixed">
    <h1>MAP Geolocation MAP</h1>
  </div>

  <div data-role="content" style="position: absolute;overflow: hidden;width: 90%;height: 70%;">

  </div>
</div>

<script>

navigator.geolocation.getCurrentPosition (function (pos)
{
  var lat = pos.coords.latitude;
  var lng = pos.coords.longitude;
  $("#lat").val (lat);
  $("#lng").val (lng);
});

$("#btn").bind ("click", function (event)
{
  var lat = $("#lat").val ();
  var lng = $("#lng").val ();
  var latlng = new google.maps.LatLng (lat, lng);
  var options = { 
    zoom : 20, 
    center : latlng, 
    mapTypeId : google.maps.MapTypeId.ROADMAP 
  };
  var $content = $("#win2 div:jqmData(role=content)");

  var map = new google.maps.Map ($content[0], options);
  $.mobile.changePage ($("#win2"));
  
  new google.maps.Marker ( 
  { 
    map : map, 
    animation : google.maps.Animation.DROP,
    position : latlng
  });  
});
</script>





</body>
</html>
